package kgyy.com.keith.byteT;

import java.math.BigInteger;

/**
 * TODO 类描述
 *
 * @author yaomianxian
 * @date 2024/05/28 0028 18:57
 */
public class ByteTest {
    /**
     * 可以分析出
     * 0x00, 0x00, 0x00, 0x5B, 0x00, 0x12, 0x00, 0x01, 0x00, 0x00, 0x00, 0x07,0x00, 0x00, 0x00, 0x01, 0x00, 0x00
     * 这一部分应该是定义的消息头，无法解析出实际的意义
     * 剩下的部分，解析后是
     * {"room_id":"video://50334580/88120792","platform":"web","accepts":[1000]}
     */
    public static void main(String[] args) {
        byte[] bytes = {
                0x7B, 0x22, 0x72, 0x6F, 0x6F, 0x6D,
                0x5F, 0x69, 0x64, 0x22, 0x3A, 0x22, 0x76, 0x69, 0x64, 0x65, 0x6F, 0x3A,
                0x2F, 0x2F, 0x35, 0x30, 0x33, 0x33, 0x34, 0x35, 0x38, 0x30, 0x2F, 0x38,
                0x38, 0x31, 0x32, 0x30, 0x37, 0x39, 0x32, 0x22, 0x2C, 0x22, 0x70, 0x6C,
                0x61, 0x74, 0x66, 0x6F, 0x72, 0x6D, 0x22, 0x3A, 0x22, 0x77, 0x65, 0x62,
                0x22, 0x2C, 0x22, 0x61, 0x63, 0x63, 0x65, 0x70, 0x74, 0x73, 0x22, 0x3A,
                0x5B, 0x31, 0x30, 0x30, 0x30, 0x5D, 0x7D
        };
        StringBuilder result = new StringBuilder();
        for (int index = 0, len = bytes.length; index <= len - 1; index += 1) {
            int char1 = ((bytes[index] >> 4) & 0xF);
            char chara1 = Character.forDigit(char1, 16);
            int char2 = ((bytes[index]) & 0xF);
            char chara2 = Character.forDigit(char2, 16);
            result.append(chara1);
            result.append(chara2);
        }
        System.out.println(new String(new BigInteger(result.toString(), 16).toByteArray()));
    }

}
